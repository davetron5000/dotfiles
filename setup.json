{
  "setup" : [
    {
      "name": "Dropbox",
      "type": "manual",
      "url": "https://www.dropbox.com/downloading?src=index"
    },
    {
      "name": "BlueJeans",
      "type": "manual",
      "url": "https://www.bluejeans.com/downloads"
    },
    {
      "name": "Docker",
      "type": "manual",
      "url": "https://store.docker.com/editions/community/docker-ce-desktop-mac"
    },
    {
      "name": "XCode Command-line",
      "type": "shell",
      "command": "xcode-select --install",
      "test": "gcc --help"
    },
    {
      "name": "Homebrew",
      "type": "shell",
      "command": "/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"",
      "test": "brew help"
    },
    {
      "name": "rbenv",
      "type": "homebrew",
      "package": "rbenv"
    },
    {
      "name": "ruby 2.3.5",
      "type": "rbenv",
      "ruby-version": "2.3.5"
    },
    {
      "name": "ruby 2.4.2",
      "type": "rbenv",
      "ruby-version": "2.4.2"
    },
    {
      "name": "nvm",
      "type": "homebrew",
      "package": "nvm",
      "after": [
        "echo 'export NVM_DIR=\"$HOME/.nvm\"' >> ~/.bashrc",
        "echo '. \"/usr/local/opt/nvm/nvm.sh\"' >> ~/.bashrc"
      ]
    },
    {
      "name": "avn",
      "type": "shell",
      "command": "npm install -g avn avn-nvm avn-n; avn setup",
      "test": "avn"
    },
    {
      "name": "yarn",
      "type": "homebrew",
      "package": "yarn"
    },
    {
      "name": "git",
      "type": "homebrew",
      "package": "git"
    },
    {
      "name": "Heroku Toolbelt",
      "type": "homebrew",
      "package": "heroku"
    },
    {
      "name": "Homebrew Cask",
      "type": "shell",
      "command": "brew tap caskroom/cask",
      "test": "brew tap | grep caskroom/cask"
    },
    {
      "name": "Firefox",
      "type": "homebrew",
      "package": "caskroom/cask/firefox"
    },
    {
      "name": "QT 5.5",
      "type": "homebrew",
      "package": "qt@5.5",
      "after": [
        "brew link --force qt55"
      ]
    },
    {
      "name": "Log in to Heroku",
      "type": "manual",
      "instructions": [
        "In another window, type:",
        "",
        "heroku login",
        "",
        "Follow the instructions to log into Heroku"
      ]
    },
    {
      "name": "Gemfury access for Bundler",
      "type": "shell",
      "command": "bundle config https://gem.fury.io/me/ $(heroku config:get BUNDLE_GEM__FURY__IO --app hellblazer-staging)",
      "test": "bundle config | grep https://gem.fury.io/me/"
    },
    {
      "name": "Gemfury access for gem install",
      "type": "shell",
      "command": "gem sources --add https://gem.fury.io/$(bundle config https://gem.fury.io/me/ | grep \"Set for the current\" | cut -d: -f2 | sed 's/\"//g' | sed 's/ //g')/me/too",
      "test": "gem sources | grep gem.fury"
    },
    {
      "name": "Gemfury access for NPM",
      "type": "shell",
      "command": "npm config set @stitchfix:registry https://$(bundle config https://gem.fury.io/me/ | tail -1 | cut -d':' -f2 | sed 's/[\" ]//g')@npm.fury.io/me/",
      "test": "npm config list | grep stitchfix:registry"
    },
    {
      "name": "Chrome",
      "type": "homebrew",
      "package": "caskroom/cask/google-chrome"
    },
    {
      "name": "Postgres 9.6",
      "type": "homebrew",
      "package": "postgresql@9.6",
      "after": [
        "brew link --force postgresql@9.6"
      ]
    },
    {
      "name": "Go",
      "type": "homebrew",
      "package": "go",
      "after": [
        "brew link --force postgresql@9.6"
      ]
    },
    {
      "name": "adr-tools",
      "type": "homebrew",
      "package": "adr-tools"
    },
    {
      "name": "Update Homebrew",
      "type": "shell",
      "command": "brew update",
      "test": "false"
    }
  ]
}
