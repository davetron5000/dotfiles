{
  "setup" : [
    {
      "name": "Dropbox",
      "type": "manual",
      "url": "https://www.dropbox.com/downloading?src=index"
    },
    {
      "name": "BlueJeans",
      "type": "manual",
      "url": "https://www.bluejeans.com/downloads"
    },
    {
      "name": "Docker",
      "type": "manual",
      "url": "https://store.docker.com/editions/community/docker-ce-desktop-mac"
    },
    {
      "name": "XCode Command-line",
      "type": "shell",
      "command": "xcode-select --install",
      "test": "gcc --help"
    },
    {
      "name": "Homebrew",
      "type": "shell",
      "command": "/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"",
      "test": "brew help"
    },
    {
      "name": "yarn",
      "type": "homebrew",
      "package": "yarn"
    },
    {
      "name": "git",
      "type": "homebrew",
      "package": "git"
    },
    {
      "name": "Heroku Toolbelt",
      "type": "homebrew",
      "package": "heroku"
    },
    {
      "name": "Homebrew Cask",
      "type": "shell",
      "command": "brew tap caskroom/cask",
      "test": "brew tap | grep caskroom/cask"
    },
    {
      "name": "Firefox",
      "type": "homebrew",
      "package": "caskroom/cask/firefox"
    },
    {
      "name": "QT 5.5",
      "type": "homebrew",
      "package": "qt@5.5",
      "after": [
        "brew link --force qt55"
      ]
    },
    {
      "name": "Log in to Heroku",
      "type": "manual",
      "instructions": [
        "In another window, type:",
        "",
        "heroku login",
        "",
        "Follow the instructions to log into Heroku"
      ]
    },
    {
      "name": "asdf",
      "type": "homebrew",
      "package": "asdf"
    },
    {
      "name": "asdf ruby plugin",
      "type": "shell",
      "command": "asdf plugin-add ruby",
      "test": "asdf list ruby"
    },
    {
      "name": "Ruby 2.5.1",
      "type": "shell",
      "command": "asdf install ruby 2.5.1",
      "test": "asdf list ruby | grep 2.5.1"
    },
    {
      "name": "Bundler for Ruby 2.5.1",
      "type": "shell",
      "command": "asdf local ruby 2.5.1 ; gem install bundler",
      "test": "bundle help > /dev/null"
    },
    {
      "name": "Ruby 2.5.3",
      "type": "shell",
      "command": "asdf install ruby 2.5.3",
      "test": "asdf list ruby | grep 2.5.3"
    },
    {
      "name": "Bundler for Ruby 2.5.3",
      "type": "shell",
      "command": "asdf local ruby 2.5.3 ; gem install bundler",
      "test": "bundle help > /dev/null"
    },
    {
      "name": "Gemfury access for Bundler",
      "type": "manual",
      "instructions": [
        "Get the key for Gemfury from 1password",
        "",
        "Once you have that, run:",
        "",
        "    bundle config https://gem.fury.io/me/ «the key»"
      ]
    },
    {
      "name": "Gemfury access for gem install",
      "type": "shell",
      "command": "gem sources --add https://gem.fury.io/$(bundle config https://gem.fury.io/me/ | grep \"Set for the current\" | cut -d: -f2 | sed 's/\"//g' | sed 's/ //g')/me/too",
      "test": "gem sources | grep gem.fury"
    },
    {
      "name": "Gemfury access for NPM",
      "type": "shell",
      "command": "npm config set @stitchfix:registry https://$(bundle config https://gem.fury.io/me/ | tail -1 | cut -d':' -f2 | sed 's/[\" ]//g')@npm.fury.io/me/",
      "test": "npm config list | grep stitchfix:registry"
    },
    {
      "name": "Chrome",
      "type": "homebrew",
      "package": "caskroom/cask/google-chrome"
    },
    {
      "name": "asdf postgres plugin",
      "type": "shell",
      "command": "asdf plugin-add postgres",
      "test": "asdf list ruby"
    },
    {
      "name": "coreutils",
      "type": "homebrew",
      "package": "coreutils"
    },
    {
      "name": "gpg",
      "type": "homebrew",
      "package": "gpg"
    },
    {
      "name": "asdf nodejs plugin",
      "type": "shell",
      "command": "asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git",
      "test": "asdf list nodejs"
    },
    {
      "name": "Node 8.10",
      "type": "shell",
      "command": "NODEJS_CHECK_SIGNATURES=no asdf install nodejs 8.10.0",
      "test": "asdf list nodejs | grep 8.10"
    },
    {
      "name": "Postgres 9.3.14",
      "type": "shell",
"command": "LDFLAGS='-L/usr/local/opt/openssl/lib -L/usr/local/lib -L/usr/local/opt/expat/lib' CFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' CPPFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' POSTGRES_CONFIGURE_OPTIONS='--with-gssapi --with-ldap --with-openssl --with-pam --with-libxml --with-libxslt --with-uuid=e2fs' asdf install postgres 9.3.14",
      "test": "asdf list postgres | grep 9.3.14"
    },
    {
      "name": "Postgres 9.4.7",
      "type": "shell",
"command": "LDFLAGS='-L/usr/local/opt/openssl/lib -L/usr/local/lib -L/usr/local/opt/expat/lib' CFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' CPPFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' POSTGRES_CONFIGURE_OPTIONS='--with-gssapi --with-ldap --with-openssl --with-pam --with-libxml --with-libxslt --with-uuid=e2fs' asdf install postgres 9.4.7",
      "test": "asdf list postgres | grep 9.4.7"
    },
    {
      "name": "Postgres 9.6.8",
      "type": "shell",
"command": "LDFLAGS='-L/usr/local/opt/openssl/lib -L/usr/local/lib -L/usr/local/opt/expat/lib' CFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' CPPFLAGS='-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include' POSTGRES_CONFIGURE_OPTIONS='--with-gssapi --with-ldap --with-openssl --with-pam --with-libxml --with-libxslt --with-uuid=e2fs' asdf install postgres 9.6.8",
      "test": "asdf list postgres | grep 9.6.8"
    },
    {
      "name": "Go",
      "type": "homebrew",
      "package": "go"
    },
    {
      "name": "adr-tools",
      "type": "homebrew",
      "package": "adr-tools"
    },
    {
      "name": "Update Homebrew",
      "type": "shell",
      "command": "brew update",
      "test": "false"
    },
    {
      "name": "Tunnelblick",
      "type": "homebrew",
      "package": "caskroom/cask/tunnelblick"
    },
    {
      "name": "asdf",
      "type": "shell",
      "command": "git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.4.3 && echo -e '\n. $HOME/.asdf/asdf.sh' >> ~/.bashrc && echo -e '\n. $HOME/.asdf/completions/asdf.bash' >> ~/.bashrc",
      "test": "asdf --help"
    },
    {
      "name": "gpg",
      "type": "homebrew",
      "package": "gpg"
    },
    {
      "name": "Vim Packages",
      "type": "manual",
      "instructions": [
        "do update_packages in your vim yo"
      ]
    },
    {
      "name": "Postgres 9.6 Dev",
      "type": "homebrew",
      "package": "postgresql@9.6 "
    }
  ]
}
